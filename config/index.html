<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">

        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-172736282-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-172736282-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


        <title>Doom Emacs Configuration</title>

        <link rel="stylesheet" href="/css/stylesheet.css">
        <link rel="stylesheet" href="/css/base16-default.dark.css"/>

        <script src="/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body>
        <section id="page-title">
            <h1><a href="/">Mirco&#39;s Blog</a></h1>
        </section>


<section class="blog-post">
    <h1>Doom Emacs Configuration</h1>
    <div class="blog-post-subheader">
        July 20, 2020
    </div>
    <div class="blog-post-content">
        
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
General
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Personal Information
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq <span style="color:#a6e22e">user-full-name</span> <span style="color:#e6db74">&#34;Mirco De Zorzi&#34;</span>
      user-mail-address <span style="color:#e6db74">&#34;mircodezorzi@protonmail.com&#34;</span>)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
Performance Tweaks
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq scroll-conservatively <span style="color:#ae81ff">101</span>
      gc-cons-threshold <span style="color:#ae81ff">100000000</span>)</code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-4" class="outline-2">
<h2 id="headline-4">
Doom Configuration
</h2>
<div id="outline-text-headline-4" class="outline-text-2">
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
Font Face
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq doom-font (<span style="color:#a6e22e">font-spec</span> :family <span style="color:#e6db74">&#34;Fira Code&#34;</span> :size <span style="color:#ae81ff">20</span>)
      doom-big-font (<span style="color:#a6e22e">font-spec</span> :family <span style="color:#e6db74">&#34;Fira Code&#34;</span> :size <span style="color:#ae81ff">30</span>))</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
Modeline &amp; Theme
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq doom-theme <span style="color:#e6db74">&#39;doom-tomorrow-night</span>)</code></pre></div>
</div>
<p>
Thanks to <a href="https://tecosaur.github.io/emacs-config/config.html#theme-modeline">tecosaur</a> from whom I stole the following two snippets of code.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(display-time-mode <span style="color:#ae81ff">1</span>)
(unless (<span style="color:#a6e22e">equal</span> <span style="color:#e6db74">&#34;Battery status not avalible&#34;</span>
               (battery))
  (display-battery-mode <span style="color:#ae81ff">1</span>))</code></pre></div>
</div>
<p>
This function allows to hide a files&#39; encoding whenever there&#39;s no need to display it.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun doom-modeline-conditional-buffer-encoding ()
  <span style="color:#e6db74">&#34;We expect the encoding to be LF UTF-8, so only show the modeline when this is not the case.&#34;</span>
  (setq-local doom-modeline-buffer-encoding
              (unless (or (<span style="color:#a6e22e">eq</span> buffer-file-coding-system <span style="color:#e6db74">&#39;utf-8-unix</span>)
                          (<span style="color:#a6e22e">eq</span> buffer-file-coding-system <span style="color:#e6db74">&#39;utf-8</span>)))))

(add-hook <span style="color:#e6db74">&#39;after-change-major-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>doom-modeline-conditional-buffer-encoding)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-7" class="outline-3">
<h3 id="headline-7">
Miscellaneous
</h3>
<div id="outline-text-headline-7" class="outline-text-3">
<p>Dispaly relative number lines. Essential for any <code class="verbatim">evil</code> user!</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq display-line-numbers-type <span style="color:#e6db74">&#39;relative</span>)</code></pre></div>
</div>
<p>
Display indent guides as dotted lines.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(after! highlight-indent-guides
  (setq highlight-indent-guides-method <span style="color:#e6db74">&#39;bitmap</span>)
  (highlight-indent-guides-auto-set-faces))</code></pre></div>
</div>
<p>
I&#39;m not a big fan of other conceal characters so I&#39;m only keeping the lambda one.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq +pretty-code-symbols <span style="color:#f92672">&#39;</span>(:lambda <span style="color:#e6db74">&#34;Î»&#34;</span>))</code></pre></div>
</div>
<p>
More intuitive splits.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq evil-split-window-below <span style="color:#66d9ef">t</span>
      evil-vsplit-window-right <span style="color:#66d9ef">t</span>)</code></pre></div>
</div>
<p>
Automatically toggle fullscreen mode when loading up Emacs. This applies to <code class="verbatim">emacsclient -c</code> too.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(add-to-list <span style="color:#e6db74">&#39;initial-frame-alist</span> <span style="color:#f92672">&#39;</span>(fullscreen <span style="color:#f92672">.</span> maximized))</code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-8" class="outline-2">
<h2 id="headline-8">
Package Configuration
</h2>
<div id="outline-text-headline-8" class="outline-text-2">
<div id="outline-container-headline-9" class="outline-3">
<h3 id="headline-9">
Evil Mode
</h3>
<div id="outline-text-headline-9" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(evil-mode <span style="color:#66d9ef">t</span>)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-10" class="outline-3">
<h3 id="headline-10">
Key Chord
</h3>
<div id="outline-text-headline-10" class="outline-text-3">
<p>Enter <code class="verbatim">normal mode</code> whenever <code class="verbatim">u</code> &amp; <code class="verbatim">e</code> are pressed simultaneusly.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq key-chord-two-keys-delay <span style="color:#ae81ff">0.025</span>)
(key-chord-define evil-insert-state-map <span style="color:#e6db74">&#34;eu&#34;</span> <span style="color:#e6db74">&#39;evil-normal-state</span>)
(key-chord-mode <span style="color:#ae81ff">1</span>)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-11" class="outline-3">
<h3 id="headline-11">
Company
</h3>
<div id="outline-text-headline-11" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(after! company
  (setq company-idle-delay <span style="color:#ae81ff">0.5</span>
        company-minimum-prefix-length <span style="color:#ae81ff">2</span>)
  (add-hook <span style="color:#e6db74">&#39;evil-normal-state-entry-hook</span> <span style="color:#a6e22e">#&#39;</span>company-abort))

(map!
  :after company
  :map company-mode-map
  :nvm (kbd <span style="color:#e6db74">&#34;C-SPC&#34;</span>) <span style="color:#a6e22e">#&#39;</span>company-complete-selection)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-12" class="outline-3">
<h3 id="headline-12">
lsp-ui
</h3>
<div id="outline-text-headline-12" class="outline-text-3">
<p>Fancy floating pop-up windows for code documentitation. Stolen from <a href="https://emacs.nasy.moe/#org66a6e8e">Nasy</a>.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq lsp-ui-doc-position            <span style="color:#e6db74">&#39;at-point</span>
      lsp-ui-doc-header              <span style="color:#66d9ef">nil</span>
      lsp-ui-doc-border              <span style="color:#e6db74">&#34;violet&#34;</span>
      lsp-ui-doc-include-signature   <span style="color:#66d9ef">t</span>
      lsp-ui-flycheck-enable         <span style="color:#66d9ef">t</span>)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-13" class="outline-3">
<h3 id="headline-13">
Yasnippet
</h3>
<div id="outline-text-headline-13" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq yas-snippet-dirs <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;~/.doom.d/snippets&#34;</span>))</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-14" class="outline-3">
<h3 id="headline-14">
Nerd Commenter
</h3>
<div id="outline-text-headline-14" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(map!
  :leader
  :nvm (kbd <span style="color:#e6db74">&#34;c c&#34;</span>) <span style="color:#a6e22e">#&#39;</span>evilnc-comment-or-uncomment-lines
  :nvm (kbd <span style="color:#e6db74">&#34;c p&#34;</span>) <span style="color:#a6e22e">#&#39;</span>evilnc-comment-or-uncomment-paragraphs)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-15" class="outline-3">
<h3 id="headline-15">
Evil Snipe
</h3>
<div id="outline-text-headline-15" class="outline-text-3">
<p>Disable <code class="verbatim">evil-snipe-mode</code> due to key map conflicts.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(after! evil-snipe
  (evil-snipe-mode <span style="color:#ae81ff">-1</span>))</code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-16" class="outline-2">
<h2 id="headline-16">
Languages
</h2>
<div id="outline-text-headline-16" class="outline-text-2">
<div id="outline-container-headline-17" class="outline-3">
<h3 id="headline-17">
LaTeX
</h3>
<div id="outline-text-headline-17" class="outline-text-3">
<div id="outline-container-headline-18" class="outline-4">
<h4 id="headline-18">
Compilation
</h4>
<div id="outline-text-headline-18" class="outline-text-4">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(after! latex
  (setq TeX-save-query <span style="color:#66d9ef">nil</span>
        TeX-command-extra-options <span style="color:#e6db74">&#34;-shell-escape&#34;</span>))</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-19" class="outline-4">
<h4 id="headline-19">
Custom Viewers
</h4>
<div id="outline-text-headline-19" class="outline-text-4">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(after! latex
  (setq +latex-viewers <span style="color:#f92672">&#39;</span>(pdf-tools zathura)))</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-20" class="outline-4">
<h4 id="headline-20">
Dictionaries
</h4>
<div id="outline-text-headline-20" class="outline-text-4">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq ispell-dictionary <span style="color:#e6db74">&#34;en-custom&#34;</span>)</code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-21" class="outline-3">
<h3 id="headline-21">
Org-Mode
</h3>
<div id="outline-text-headline-21" class="outline-text-3">
<div id="outline-container-headline-22" class="outline-4">
<h4 id="headline-22">
Set default Org directory
</h4>
<div id="outline-text-headline-22" class="outline-text-4">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq org-directory <span style="color:#e6db74">&#34;~/org/&#34;</span>)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-23" class="outline-4">
<h4 id="headline-23">
Prettify symbols
</h4>
<div id="outline-text-headline-23" class="outline-text-4">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(after! org
  (appendq! +pretty-code-symbols
    <span style="color:#f92672">`</span>(:src_block     <span style="color:#e6db74">&#34;Â»&#34;</span>
      :src_block_end <span style="color:#e6db74">&#34;Â«&#34;</span>
      :results       <span style="color:#e6db74">&#34;â¹&#34;</span>
      :checkbox      <span style="color:#e6db74">&#34;â&#34;</span>
      :pending       <span style="color:#e6db74">&#34;â¼&#34;</span>
      :checkedbox    <span style="color:#e6db74">&#34;â&#34;</span>
      :priority_a    <span style="color:#f92672">,</span>(<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;â&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;all-the-icons-red</span>)
      :priority_b    <span style="color:#f92672">,</span>(<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;â&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;all-the-icons-orange</span>)
      :priority_c    <span style="color:#f92672">,</span>(<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;â&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;all-the-icons-yellow</span>)))
  (set-pretty-symbols! <span style="color:#e6db74">&#39;org-mode</span>
    :merge <span style="color:#66d9ef">t</span>
    :src_block     <span style="color:#e6db74">&#34;#+BEGIN_SRC&#34;</span>
    :src_block_end <span style="color:#e6db74">&#34;#+END_SRC&#34;</span>
    :results       <span style="color:#e6db74">&#34;#+RESULTS:&#34;</span>
    :checkbox      <span style="color:#e6db74">&#34;[ ]&#34;</span>
    :pending       <span style="color:#e6db74">&#34;[-]&#34;</span>
    :checkedbox    <span style="color:#e6db74">&#34;[X]&#34;</span>
    :priority_a    <span style="color:#e6db74">&#34;[#A]&#34;</span>
    :priority_b    <span style="color:#e6db74">&#34;[#B]&#34;</span>
    :priority_c    <span style="color:#e6db74">&#34;[#C]&#34;</span>))

(<span style="color:#a6e22e">plist-put</span> +pretty-code-symbols :name <span style="color:#e6db74">&#34;foobar&#34;</span>)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-24" class="outline-4">
<h4 id="headline-24">
Fix latex org inline equation preview numbering
</h4>
<div id="outline-text-headline-24" class="outline-text-4">
<p>Numbered equations all have (1) as the number for fragments with vanilla org-mode. This code injects the correct numbers into the previews so they look good.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(after! org
  (defun scimax-org-renumber-environment (orig-func <span style="color:#66d9ef">&amp;rest</span> args)
    <span style="color:#e6db74">&#34;A function to inject numbers in LaTeX fragment previews.&#34;</span>
    (let ((results <span style="color:#f92672">&#39;</span>())
          (counter <span style="color:#ae81ff">-1</span>)
          (<span style="color:#a6e22e">numberp</span>))
      (setq results (loop for (begin <span style="color:#f92672">.</span>  env) in
                          (org-element-map (org-element-parse-buffer) <span style="color:#e6db74">&#39;latex-environment</span>
                            (lambda (env)
                              (<span style="color:#a6e22e">cons</span>
                               (org-element-property :begin env)
                               (org-element-property :value env))))
                          collect
                          (cond
                           ((and (<span style="color:#a6e22e">string-match</span> <span style="color:#e6db74">&#34;\\\\begin{equation}&#34;</span> env)
                                 (not (<span style="color:#a6e22e">string-match</span> <span style="color:#e6db74">&#34;\\\\tag{&#34;</span> env)))
                            (incf counter)
                            (<span style="color:#a6e22e">cons</span> begin counter))
                           ((<span style="color:#a6e22e">string-match</span> <span style="color:#e6db74">&#34;\\\\begin{align}&#34;</span> env)
                            (prog2
                                (incf counter)
                                (<span style="color:#a6e22e">cons</span> begin counter)
                              (with-temp-buffer
                                (<span style="color:#a6e22e">insert</span> env)
                                (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">point-min</span>))
                                <span style="color:#75715e">;; \\ is used for a new line. Each one leads to a number</span>
                                (incf counter (count-matches <span style="color:#e6db74">&#34;\\\\$&#34;</span>))
                                <span style="color:#75715e">;; unless there are nonumbers.</span>
                                (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">point-min</span>))
                                (decf counter (count-matches <span style="color:#e6db74">&#34;\\nonumber&#34;</span>)))))
                           (<span style="color:#66d9ef">t</span>
                            (<span style="color:#a6e22e">cons</span> begin <span style="color:#66d9ef">nil</span>)))))

      (when (setq <span style="color:#a6e22e">numberp</span> (<span style="color:#a6e22e">cdr</span> (<span style="color:#a6e22e">assoc</span> (<span style="color:#a6e22e">point</span>) results)))
        (setf (<span style="color:#a6e22e">car</span> args)
              (<span style="color:#a6e22e">concat</span>
               (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;\\setcounter{equation}{%s}\n&#34;</span> <span style="color:#a6e22e">numberp</span>)
               (<span style="color:#a6e22e">car</span> args)))))

    (<span style="color:#a6e22e">apply</span> orig-func args))

  (defun scimax-toggle-latex-equation-numbering ()
    <span style="color:#e6db74">&#34;Toggle whether LaTeX fragments are numbered.&#34;</span>
    (interactive)
    (if (not (<span style="color:#a6e22e">get</span> <span style="color:#e6db74">&#39;scimax-org-renumber-environment</span> <span style="color:#e6db74">&#39;enabled</span>))
        (progn
          (advice-add <span style="color:#e6db74">&#39;org-create-formula-image</span> :around <span style="color:#a6e22e">#&#39;</span>scimax-org-renumber-environment)
          (<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;scimax-org-renumber-environment</span> <span style="color:#e6db74">&#39;enabled</span> <span style="color:#66d9ef">t</span>)
          (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Latex numbering enabled&#34;</span>))
      (advice-remove <span style="color:#e6db74">&#39;org-create-formula-image</span> <span style="color:#a6e22e">#&#39;</span>scimax-org-renumber-environment)
      (<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;scimax-org-renumber-environment</span> <span style="color:#e6db74">&#39;enabled</span> <span style="color:#66d9ef">nil</span>)
      (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Latex numbering disabled.&#34;</span>)))

  (advice-add <span style="color:#e6db74">&#39;org-create-formula-image</span> :around <span style="color:#a6e22e">#&#39;</span>scimax-org-renumber-environment)
  (<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;scimax-org-renumber-environment</span> <span style="color:#e6db74">&#39;enabled</span> <span style="color:#66d9ef">t</span>))</code></pre></div>
</div>
<p>
Stolen from <a href="https://tecosaur.github.io/emacs-config/config.html#stolen-from-scimax">tecosaur</a>, which in turn stole it from <a href="https://github.com/jkitchin/scimax">scimax</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-25" class="outline-2">
<h2 id="headline-25">
Dvorak Mappings
</h2>
<div id="outline-text-headline-25" class="outline-text-2">
<p>As a Dvorak user I have to manually remap a large amount of keys.</p>
<div id="outline-container-headline-26" class="outline-3">
<h3 id="headline-26">
Calendar
</h3>
<div id="outline-text-headline-26" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(map!
  :after calendar
  :map calendar-mode-map
  :nvm (kbd <span style="color:#e6db74">&#34;d&#34;</span>) <span style="color:#a6e22e">#&#39;</span>calendar-backward-day
  :nvm (kbd <span style="color:#e6db74">&#34;h&#34;</span>) <span style="color:#a6e22e">#&#39;</span>calendar-forward-week
  :nvm (kbd <span style="color:#e6db74">&#34;t&#34;</span>) <span style="color:#a6e22e">#&#39;</span>calendar-backward-week
  :nvm (kbd <span style="color:#e6db74">&#34;n&#34;</span>) <span style="color:#a6e22e">#&#39;</span>calendar-forward-day)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-27" class="outline-3">
<h3 id="headline-27">
<span class="todo">TODO</span>
Treemacs
</h3>
<div id="outline-text-headline-27" class="outline-text-3">
<p>For some reason Doom really doesn&#39;t want to remap Treemacs&#39; keysâ¦</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(map!
  :after treemacs
  :map treemacs-mode-map
  :nvm (kbd <span style="color:#e6db74">&#34;h&#34;</span>) <span style="color:#a6e22e">#&#39;</span>treemacs-next-line
  :nvm (kbd <span style="color:#e6db74">&#34;t&#34;</span>) <span style="color:#a6e22e">#&#39;</span>treemacs-previous-line)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-28" class="outline-3">
<h3 id="headline-28">
Notmuch
</h3>
<div id="outline-text-headline-28" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(map!
  :after notmuch
  :map notmuch-search-mode-map
  :nvm <span style="color:#e6db74">&#34;d&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-backward-char
  :nvm <span style="color:#e6db74">&#34;t&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-previous-line
  :nvm <span style="color:#e6db74">&#34;C-t&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-window-up)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-29" class="outline-3">
<h3 id="headline-29">
Org-Mode
</h3>
<div id="outline-text-headline-29" class="outline-text-3">
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(map!
  :after evil-org
  :map evil-org-mode-map
  :nvm <span style="color:#e6db74">&#34;d&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-backward-char
  :nvm (kbd <span style="color:#e6db74">&#34;M-t&#34;</span>) <span style="color:#a6e22e">#&#39;</span>org-metaup
  :nvm (kbd <span style="color:#e6db74">&#34;M-h&#34;</span>) <span style="color:#a6e22e">#&#39;</span>org-metadown)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-30" class="outline-3">
<h3 id="headline-30">
Evil Mode
</h3>
<div id="outline-text-headline-30" class="outline-text-3">
<div id="outline-container-headline-31" class="outline-4">
<h4 id="headline-31">
Movement keys
</h4>
<div id="outline-text-headline-31" class="outline-text-4">
<p>Remap <code class="verbatim">dhtn</code> to <code class="verbatim">hjkl</code> and <code class="verbatim">DHTN</code> to faster movements.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(map!
  :after evil
  :nvm <span style="color:#e6db74">&#34;d&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-backward-char
  :nvm <span style="color:#e6db74">&#34;n&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-forward-char
  :nvm <span style="color:#e6db74">&#34;h&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-next-line
  :nvm <span style="color:#e6db74">&#34;t&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-previous-line

  :nvm <span style="color:#e6db74">&#34;D&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-beginning-of-line
  :nvm <span style="color:#e6db74">&#34;N&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-end-of-line
  :nvm <span style="color:#e6db74">&#34;H&#34;</span> (kbd <span style="color:#e6db74">&#34;5h&#34;</span>)
  :nvm <span style="color:#e6db74">&#34;T&#34;</span> (kbd <span style="color:#e6db74">&#34;5t&#34;</span>))</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-32" class="outline-4">
<h4 id="headline-32">
Fix mappings
</h4>
<div id="outline-text-headline-32" class="outline-text-4">
<p>Fix mappings that were overwritten by the latter ones. Also fix pinkie maps, zoom and digraph insertion.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(map!
  :after evil
  :nvm <span style="color:#e6db74">&#34;j&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-delete
  :nvm <span style="color:#e6db74">&#34;k&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-find-char-to

  :nvm <span style="color:#e6db74">&#34;l&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-search-next
  :nvm <span style="color:#e6db74">&#34;L&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-search-previous

  :nvm <span style="color:#e6db74">&#34;s&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-ex
  :nvm <span style="color:#e6db74">&#34;M-+&#34;</span> <span style="color:#a6e22e">#&#39;</span>doom/increase-font-size
  :nvm <span style="color:#e6db74">&#34;M--&#34;</span> <span style="color:#a6e22e">#&#39;</span>doom/decrease-font-size
  :nvm <span style="color:#e6db74">&#34;C-k&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-insert-digraph)</code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-33" class="outline-4">
<h4 id="headline-33">
Split movements
</h4>
<div id="outline-text-headline-33" class="outline-text-4">
<p>Move through splits with <code class="verbatim">C-[dhtn]</code>.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(map!
  :after evil
  :nvm <span style="color:#e6db74">&#34;C-d&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-window-left
  :nvm <span style="color:#e6db74">&#34;C-h&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-window-down
  :nvm <span style="color:#e6db74">&#34;C-t&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-window-up
  :nvm <span style="color:#e6db74">&#34;C-n&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-window-right)</code></pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-34" class="outline-2">
<h2 id="headline-34">
Utility Functions
</h2>
<div id="outline-text-headline-34" class="outline-text-2">
<div id="outline-container-headline-35" class="outline-3">
<h3 id="headline-35">
Wrap Selected Code
</h3>
<div id="outline-text-headline-35" class="outline-text-3">
<p>Wrap visually selected text in an org-mode block.</p>
<div class="src src-emacs-lisp">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun org-wrap-source ()
  (interactive)
  (let ((lang (<span style="color:#a6e22e">read-string</span> <span style="color:#e6db74">&#34;Language: &#34;</span>))
        (start (<span style="color:#a6e22e">min</span> (<span style="color:#a6e22e">point</span>) (mark)))
        (end (<span style="color:#a6e22e">max</span> (<span style="color:#a6e22e">point</span>) (mark))))
    (<span style="color:#a6e22e">goto-char</span> end)
    (unless (<span style="color:#a6e22e">bolp</span>)
      (newline))
    (<span style="color:#a6e22e">insert</span> <span style="color:#e6db74">&#34;#+END_SRC\n&#34;</span>)
    (<span style="color:#a6e22e">goto-char</span> start)
    (unless (<span style="color:#a6e22e">bolp</span>)
      (newline))
    (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;#+BEGIN_SRC %s\n&#34;</span> lang))))

(map!
  :after org
  :v (kbd <span style="color:#e6db74">&#34;C-C C-W&#34;</span>) <span style="color:#a6e22e">#&#39;</span>org-wrap-source)</code></pre></div>
</div>
</div>
</div>
</div>
</div>

    </div>
</section>

    </body>
</html>